<!DOCTYPE html>
<html>

<head>
  <title>Coaster Sample</title>
</head>

<body>
  <h1>Coaster Sample</h1>

  <button onclick="renderCoasters();">Get All Coasters</button>
  <div class="container"></div>

  <script>
  async function getCoasters() {
    let url = "http://localhost:5000/api/";
    try {
        let res = await fetch(url);
        return await res.json();
    } catch (error) {
        console.log(error);
    }
  }

async function renderCoasters() {
    let response = await getCoasters();
    let coasters = response.data;
    console.log(coasters);
    let html = '';
    coasters.forEach(coaster => {
        let htmlSegment = `<div class="coaster">
                            <p>${coaster.name}</p>
                            <p>${coaster.park}</p>
                            <br>
                        </div>`;

        html += htmlSegment;
    });

    let container = document.querySelector('.container');
    container.innerHTML = html;
}

  </script>
</body>

</html>